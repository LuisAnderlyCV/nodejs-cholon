<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>CONTROL GALPON
  </title>
  <link rel="shortcut icon" type="image/x-icon" href="/src/views/img/icono.ico">
  <!-- Custom fonts for this admin template-->
  <link href="/src/boostrapdiseñoadmin/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet">

  <!-- Custom styles for this template-->
  <link rel="stylesheet" href="/src/control/assets/css/fontawesome.css">
  <link rel="stylesheet" href="/src/control/assets/css/templatemo-cyborg-gaming.css">
  <link rel="stylesheet" href="/src/control/assets/css/owl.css">
  <link rel="stylesheet" href="/src/control/assets/css/animate.css">
  <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
  <link href="/src/boostrapdiseñoadmin/css/sb-admin-2.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body id="page-top">

  <!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Sidebar -->
    <%- include('../plantilla/listamodulos') %>
      <!-- End of Sidebar -->

      <!-- Content Wrapper -->
      <div id="content-wrapper" class="d-flex flex-column">

        <!-- Main Content -->
        <div id="content">

          <!-- Topbar -->
          <%- include('../plantilla/navbar') %>
            <!-- End of Topbar -->
            <div class="text-center">
              <h1>CONTROL DE GALPON </h1>
            </div>
            <style>
              .cd-container {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                margin: 0 -10px;
                /* Ajusta el margen según tus necesidades */
              }

              .cd-timeline-block {
                margin-right: -1150px;
                /* Espacio entre elementos */
              }

              .most-popular {
                display: flex;
                justify-content: center;
                align-items: center;
              }

              .col {
                width: 1500px;
                /* Ajusta el ancho según tus necesidades */
                margin: 10px;
              }

              .card {
                border: none;
                border-radius: 15px;
                overflow: hidden;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                transition: transform 0.3s ease;
              }

              .card:hover {
                transform: scale(1.05);
              }

              .card-img-top {
                width: 100%;
                height: auto;
                border-bottom: 1px solid #ddd;
              }

              .card-body {
                text-align: center;
                padding: 10px;
                /* Ajusta el padding según tus necesidades */
              }

              .card-body h2 {
                font-size: 1.8rem;
                margin-bottom: 5px;
                color: #292929;
              }

              .card-text {
                font-size: 1rem;
                color: #000000;
              }

              .btn-group {
                margin-top: 5px;
              }

              h2 {
                color: #4a4a4a;
                /* Color del texto */
                font-size: 24px;
                /* Tamaño de fuente */
                font-weight: bold;
                /* Grosor de la fuente */
                text-align: center;
                /* Alineación del texto */
                text-transform: uppercase;
                /* Convertir el texto a mayúsculas */
                margin: 10px 0;
                /* Márgenes superior e inferior */
                /* Otros estilos según tus preferencias */
              }

              h5 {
                color: #ffffff;
                /* Color del texto */
                font-size: 24px;
                /* Tamaño de fuente */
                font-weight: bold;
                /* Grosor de la fuente */
                text-align: center;
                /* Alineación del texto */
                text-transform: uppercase;
                /* Convertir el texto a mayúsculas */
                margin: 10px 0;
                /* Márgenes superior e inferior */
                /* Otros estilos según tus preferencias */
              }

              .btn {
                margin: 0 8px;
                font-size: 1rem;
                border-radius: 5px;
              }

              .btn-outline-secondary {
  color: #555;
  border-color: #555;
}

.btn-outline-secondary:hover {
  color: #fff;
  background-color: #555;
}


              /* Estilos para el modal */
              #myModal {
                font-family: 'Roboto', sans-serif;
                transition: opacity 0.5s ease-in-out;
              }

              .modal-content {
                border-radius: 15px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                transition: transform 0.3s ease-in-out;
              }

              .modal-header {
                background-color: #e18d2c;
                color: #fff;
                border-top-left-radius: 15px;
                border-top-right-radius: 15px;
                transition: background-color 0.3s ease-in-out;
              }

              .modal-title {
                font-size: 2rem;
              }

              .modal-body {
                padding: 20px;
              }

              /* Estilos para los campos dentro del modal */
              .modal-body span {
                display: inline-block;
                width: 120px;
                font-weight: bold;
                color: #555;
                transition: color 0.3s ease-in-out;
              }

              .modal-body p span {
                color: #333;
              }

              .modal-body p:hover span {
                color: #e18d2c;
              }

              /* Botón de Cerrar */
              .close {
                color: #fff;
                font-size: 1.5rem;
                transition: transform 0.3s ease-in-out;
              }

              .close:hover {
                color: #fff;
                transform: scale(1.2);
              }

              .close:focus {
                outline: none;
                box-shadow: none;
              }

              .close:active {
                color: #fff;
              }

              /* Fondo del botón Cerrar */
              .close span {
                font-size: 2rem;
                line-height: 1;
              }

              /* Botón Cerrar (ícono de la "x") */
              .close span:hover {
                cursor: pointer;
              }

              .close span:focus {
                outline: none;
                box-shadow: none;
              }

              /* Estilos para el botón Cerrar */
              .btn-secondary {
                background-color: #3498db;
                color: #fff;
                border-radius: 8px;
                transition: background-color 0.3s ease-in-out, transform 0.3s ease-in-out;
              }

              .btn-secondary:hover {
                background-color: #2980b9;
              }

              .btn-secondary:focus {
                box-shadow: none;
                outline: none;
              }

              .btn-secondary:active {
                background-color: #216a94;
                transform: scale(0.95);
              }
            </style>

<section id="filtrardetallecompra" class="cd-container">
  <div class="most-popular">
    <% galpon.forEach((galpon, index) => { %>
      <div class="cd-timeline-block" id="galpon<%= galpon.idgalpon %>">
        <div class="col">
          <div class="card shadow-sm custom-card-size text-center">
            <h2>POLLOS CHOLON</h2>
            <img src="/src/control/assets/images/pollos.jpg" class="card-img-top w-100 rounded mx-auto d-block bordered-image" alt="">
            <div class="card-body">
              <p class="card-text">GALPON: <%= galpon.nombregalpon %></p>
              <div class="d-flex justify-content-center align-items-center">
                <div class="btn-group">
                  <% control.forEach((controlgalpon, controlIndex) => { %>
                    <% if (controlgalpon.idgalpon === galpon.idgalpon) { %>
                      <div class="cd-timeline-block-center" id="controlgalpon<%= controlgalpon.idcontrolgalpon %>">
                        <a class="btn btn-sm btn-outline-secondary mr-1" data-toggle="modal" data-target="#myModal"
                          onclick="acavisualiza(event)"
                          data-idcontrolgalpon="<%= controlgalpon.idcontrolgalpon %>"
                          data-nombregalpon="<%= controlgalpon.nombregalpon %>"
                          data-cantidadpollo="<%= controlgalpon.cantidadpollo %>"
                          data-fechallegada="<%= controlgalpon.fechallegada%>"
                          data-nombre-producto="<%= controlgalpon.nombre_producto %>"
                          data-mortalidad="<%= controlgalpon.mortalidadpollos %>"
                          data-descripcion="<%= controlgalpon.descripcion %>">
                          Visualizar
                        </a>
                        <a href="/supervisor/registrocontrol?idgalpon=<%= controlgalpon.idgalpon %>&filtro=<%= controlgalpon.filtro %>">
                          <button type="button" onclick="acaregistra(<%= controlgalpon.idgalpon %>, <%= controlgalpon.idproducto %>)"
                            class="btn btn-sm btn-outline-secondary">Registrar</button>
                        </a>
                      </div>
                    <% } %>
                  <% }); %>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <% if ((index + 1) % 3 === 0) { %>
        </div>
        <div class="most-popular">
      <% } %>
    <% }); %>
  </div>
</section>
            <!-- Modal Bootstrap -->
            <!-- Modal -->
            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Detalles del Galpón</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <!-- Aquí se mostrarán los datos del control de galpón -->
                    <p><strong>GALPON:</strong> <span id="modal-nombre"></span></p>
                    <p><strong>POLLO:</strong> <span id="modal-producto"></span></p>
                    <p><strong>CANTIDAD:</strong> <span id="modal-cantidad"></span></p>
                    <p><strong>FECHA DE INGRESO</strong> <span id="modal-fecha"></span></p>
                    <p><strong>MORTALIDAD:</strong> <span id="modal-mortalidad"></span></p>
                    <p><strong>DESCRIPCION:</strong> <span id="modal-descripcion"></span></p>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                  </div>
                </div>
              </div>
            </div>

            <div class="container-fluid overflow-auto">


              <!-- /.container-fluid -->
              <footer class="sticky-footer bg-white">
                <div class="container my-auto">
                  <div class="copyright text-center my-auto">
                    <span>Copyright &copy; UNSM 2023</span>
                  </div>
                </div>
              </footer>
            </div>
            <!-- End of Main Content -->

            <!-- Footer -->

            <!-- End of Footer -->

        </div>
        <!-- End of Content admin Wrapper -->

      </div>
      <!-- End of Page Wrapper -->

      <!-- Scroll to Top Button-->
      <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
      </a>

      <!-- Logout Modal-->
      <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
              <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">×</span>
              </button>
            </div>
            <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
            <div class="modal-footer">
              <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
              <a class="btn btn-primary" href="login.html">Logout</a>
            </div>
          </div>
        </div>
      </div>
      <script>
        function acavisualiza(event) {
          // Obtener el botón que activó el evento
          var button = event.currentTarget;

          // Obtener los valores de los atributos data del botón clicado
          var nombreGalpon = button.getAttribute("data-nombregalpon");
          var cantidadPollo = button.getAttribute("data-cantidadpollo");
          var fechaLlegada = button.getAttribute("data-fechallegada");
          var nombreProducto = button.getAttribute("data-nombre-producto");
          var mortalidad = button.getAttribute("data-mortalidad");
          var descripcion = button.getAttribute("data-descripcion");

          // Llenar el modal con los datos obtenidos
          document.getElementById("modal-nombre").textContent = nombreGalpon;
          document.getElementById("modal-cantidad").textContent = cantidadPollo;
          document.getElementById("modal-fecha").textContent = fechaLlegada;
          document.getElementById("modal-producto").textContent = nombreProducto;
          document.getElementById("modal-mortalidad").textContent = mortalidad;
          document.getElementById("modal-descripcion").textContent = descripcion;
        }
        function acaregistra(idgalpon, idproducto) {
          alert("aca dirige a tu registro" + " idgalpon:" + idgalpon+ " idproduto:" + idproducto);
        }
      </script>

      <!-- Bootstrap core JavaScript-->
      <script src="/src/boostrapdiseñoadmin/vendor/jquery/jquery.min.js"></script>
      <script src="/src/boostrapdiseñoadmin/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

      <script src="/src/control/vendor/jquery/jquery.min.js"></script>
      <script src="/src/control/vendor/bootstrap/js/bootstrap.min.js"></script>

      <script src="/src/control/assets/js/isotope.min.js"></script>
      <script src="/src/control/assets/js/owl-carousel.js"></script>
      <script src="/src/control/assets/js/tabs.js"></script>
      <script src="/src/control/assets/js/popup.js"></script>
      <script src="/src/control/assets/js/custom.js"></script>

      <!-- Core plugin JavaScript-->
      <script src="/src/boostrapdiseñoadmin/vendor/jquery-easing/jquery.easing.min.js"></script>

      <!-- Custom scripts for all pages-->
      <script src="/src/boostrapdiseñoadmin/js/sb-admin-2.min.js"></script>


</body>

</html>